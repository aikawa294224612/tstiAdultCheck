<?xml version="1.0" encoding="UTF-8"?>

<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="DiagnosticReport-adultcheck"/>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml">Placeholder</div>
  </text>
  <url value="https://tstifhir.azurehealthcareapis.com/StructureDefinition/DiagnosticReport-adultcheck"/>
  <version value="0.1.0"/>
  <name value="DiagnosticReportAdultCheck"/>
  <title value="DiagnosticReport - AdultCheck"/>
  <status value="active"/>
  <date value="2023-07-21T22:42:36+08:00"/>
  <publisher value="大世科 tsti"/>
  <contact>
    <name value="大世科 tsti"/>
    <telecom>
      <system value="url"/>
      <value value="https://www.etatung.com/"/>
    </telecom>
  </contact>
  <description value="此DiagnosticReport AdultCheck Profile說明成人預防保健檢查結果與建議資訊"/>
  <fhirVersion value="4.0.1"/>
  <mapping>
    <identity value="workflow"/>
    <uri value="http://hl7.org/fhir/workflow"/>
    <name value="Workflow Pattern"/>
  </mapping>
  <mapping>
    <identity value="v2"/>
    <uri value="http://hl7.org/v2"/>
    <name value="HL7 v2 Mapping"/>
  </mapping>
  <mapping>
    <identity value="rim"/>
    <uri value="http://hl7.org/v3"/>
    <name value="RIM Mapping"/>
  </mapping>
  <mapping>
    <identity value="w5"/>
    <uri value="http://hl7.org/fhir/fivews"/>
    <name value="FiveWs Pattern Mapping"/>
  </mapping>
  <kind value="resource"/>
  <abstract value="false"/>
  <type value="DiagnosticReport"/>
  <baseDefinition value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/DiagnosticReport-twcore"/>
  <derivation value="constraint"/>
  <snapshot>
    <element id="DiagnosticReport">
      <path value="DiagnosticReport"/>
      <short value="診斷報告—由請求資訊、不可被中斷的一個或一系列結果（atomic results）、影像、解釋以及格式化報告所組成。"/>
      <definition value="對病人、一群病人、設備和地點、和／或由這些所產生的檢體進行診斷測試的發現與解釋，報告包括臨床情境，如請求和服務提供者的資訊，以及一些混合的不可被中斷的一個或一系列結果、影像、文字和編碼的解釋，以及格式化的診斷報告。"/>
      <comment value="這是為了捕捉單一的報告資訊，不適合用於顯示涵蓋多個報告的摘要資訊。例如：此resource沒有為實驗室累積報告格式設計，也沒有為排序的詳細結構化報告設計。"/>
      <alias value="Report"/>
      <alias value="Test"/>
      <alias value="Result"/>
      <alias value="Results"/>
      <alias value="Labs"/>
      <alias value="Laboratory"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <constraint>
        <key value="dom-2"/>
        <severity value="error"/>
        <human value="If the resource is contained in another resource, it SHALL NOT contain nested Resources"/>
        <expression value="contained.contained.empty()"/>
        <xpath value="not(parent::f:contained and f:contained)"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-3"/>
        <severity value="error"/>
        <human value="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource"/>
        <expression value="contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()"/>
        <xpath value="not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-4"/>
        <severity value="error"/>
        <human value="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated"/>
        <expression value="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()"/>
        <xpath value="not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-5"/>
        <severity value="error"/>
        <human value="If a resource is contained in another resource, it SHALL NOT have a security label"/>
        <expression value="contained.meta.security.empty()"/>
        <xpath value="not(exists(f:contained/*/f:meta/f:security))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice">
          <valueBoolean value="true"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation">
          <valueMarkdown value="When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."/>
        </extension>
        <key value="dom-6"/>
        <severity value="warning"/>
        <human value="A resource should have narrative for robust management"/>
        <expression value="text.`div`.exists()"/>
        <xpath value="exists(f:text/h:div)"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="Entity. Role, or Act"/>
      </mapping>
      <mapping>
        <identity value="workflow"/>
        <map value="Event"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="ORU -&gt; OBR"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Observation[classCode=OBS, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.id">
      <path value="DiagnosticReport.id"/>
      <short value="不重複的ID用以識別儲存在特定FHIR Server中的DiagnosticReport紀錄，通常又稱為邏輯性ID。"/>
      <definition value="resource的邏輯ID，在resource的URL中使用。一旦指定，這個值永遠不會改變。"/>
      <comment value="一個resource使用新增操作（create operation）提交給伺服器時是此resource唯一沒有id的時刻"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="id"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="true"/>
    </element>
    <element id="DiagnosticReport.meta">
      <path value="DiagnosticReport.meta"/>
      <short value="此DiagnosticReport Resource的metadata"/>
      <definition value="關於resource的metadata。這是由基礎建設維護的內容。對內容的改變可能並不總是與resource的版本改變相關。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.meta"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Meta"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
    </element>
    <element id="DiagnosticReport.implicitRules">
      <path value="DiagnosticReport.implicitRules"/>
      <short value="創建此內容所依據的一組規則"/>
      <definition value="構建resource時遵循的一系列規則的參照，在處理內容時必須理解這些規則。通常這是IG定義特殊規則及其他profiles的參照。"/>
      <comment value="宣告這套規則限制了內容只能被有限的貿易夥伴所理解。這從本質上限制了資料的長期有用性。然而，現有的健康生態體系高度分裂，還沒有準備好以普遍可計算的方式定義、收集和交換資料。只要有可能，實作者和／或規範編寫者應該避免使用這個資料項目。通常，在使用時，此URL是對實作指引的參照，此指引將這些特殊規則與其他profiles、value sets等一起定義為其敘述的一部分。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.implicitRules"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies it's meaning or interpretation"/>
      <isSummary value="true"/>
    </element>
    <element id="DiagnosticReport.language">
      <path value="DiagnosticReport.language"/>
      <short value="用以表述DiagnosticReport Resource內容的語言"/>
      <definition value="編寫此resource的基礎語言"/>
      <comment value="提供語言是為了支援索引和可存取性（通常，文字表述轉語音等服務使用此語言標籤）。html lanuage tag適用於此敘述。resource上的語言標籤可用於指定從resource中的資料所產成的其他表述之語言。不是所有的內容都必須使用此基礎語言。不應該假定Resource.language自動適用於敘述。如果指定語言，它也應該被指定在html中的div元素（關於xml:lang和html lang屬性之間的關係，見HTML5中的規則）。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.language"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <example>
        <label value="Value"/>
        <valueString value="zh-TW"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-maxValueSet">
          <valueCanonical value="http://hl7.org/fhir/ValueSet/all-languages"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="Language"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding">
          <valueBoolean value="true"/>
        </extension>
        <strength value="preferred"/>
        <description value="人類語言；鼓勵使用[CommonLanguages](http://hl7.org/fhir/R4/valueset-languages.html)值集中的代碼，但不強制一定要使用此值集，你也可使用其他值集的代碼或單純以文字表示。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/languages"/>
      </binding>
    </element>
    <element id="DiagnosticReport.text">
      <path value="DiagnosticReport.text"/>
      <short value="DiagnosticReport Resource之內容摘要以供人閱讀"/>
      <definition value="人可讀的敘述，包含resource的摘要，可用於向人表述resource的內容。敘述不需要對所有的結構化資料進行編碼，但需要包含足夠的細節使人在閱讀敘述時理解「臨床安全性」。resource定義可定義哪些內容應該在敘述中表示，以確保臨床安全。"/>
      <comment value="內嵌（contained）的resource沒有敘述，非內嵌（contained）的resource則 **建議應該（SHOULD）** 有敘述。在某些情況下，resource可能只有文字表述，很少或沒有額外的離散資料（只要滿足所有minOccurs=1的資料項目）。這對於來自舊有系統的資料可能是必要的，在這些系統中，從 「文字表述區塊（text blob） 」獲取訊息，或者文字表述是額外的原始輸入或敘述，而編碼訊息是後來添加的。"/>
      <alias value="narrative"/>
      <alias value="html"/>
      <alias value="xhtml"/>
      <alias value="display"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DomainResource.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Narrative"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="Act.text?"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.contained">
      <path value="DiagnosticReport.contained"/>
      <short value="內嵌的（contained）、行內的Resources"/>
      <definition value="這些resource內嵌（contains）的resource不會另外存於任何FHIR伺服器，意即它們無法在任何FHIR伺服器中被找到，也無法有自己獨立的資料異動／交易（transaction）範圍。"/>
      <comment value="當內容可以從任何FHIR伺服器找到時，不應該以內嵌（contained）resource的方式呈現，因為一旦識別丟失，要再次恢復它是非常困難的（並且取決於情境）。內嵌（contained）的resource可在它們的meta資料項目中表述profiles和tag（標籤），但 **必須沒有（SHALL NOT）** 資訊安全標號（security labels）。"/>
      <alias value="inline resources"/>
      <alias value="anonymous resources"/>
      <alias value="contained resources"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.contained"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Resource"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.extension">
      <path value="DiagnosticReport.extension"/>
      <short value="擴充的資料項目"/>
      <definition value="可用於表示不屬於此資料項目基本定義的附加資訊。為了擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何汙名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.modifierExtension">
      <path value="DiagnosticReport.modifierExtension"/>
      <short value="此擴充的資料項目可能會完全修正或改變其他資料項目的意涵，需特別留意。"/>
      <definition value="可以用來表示不屬於資料項目的基本定義的附加資訊，並且修改對它所內嵌（contained）的資料項目的理解和（或）對包含資料項目之後續使用的理解。通常，修飾用的資料項目提供否定或限定。為了使擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。處理resource的應用程式被要求檢查修飾用的擴充資料項目。 &#xD;&#xA; 修飾用的擴充資料項目 **必須沒有（SHALL NOT）** 改變resource或DomainResource上任何資料項目的含義（包括不能改變modifierExtension本身的含義）。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何汙名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <requirements value="修飾用的資料項目擴充將不能安全地忽略的擴充與絕大多數可以安全地忽略的擴充明確區分開來。透過消除禁止實作者擴充存在的需求來促進可互通性。更多訊息，請參見[修飾用的資料項目擴充之定義](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.identifier">
      <path value="DiagnosticReport.identifier"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="type.coding.code"/>
        </discriminator>
        <discriminator>
          <type value="value"/>
          <path value="type.coding.system"/>
        </discriminator>
        <rules value="open"/>
      </slicing>
      <short value="報告的業務用識別碼"/>
      <definition value="由執行者或其他系統指定給該報告的業務用識別碼"/>
      <comment value="此識別碼通常由診斷服務提供者的資訊系統指定"/>
      <requirements value="當從來源實驗室查詢此報告以及在FHIR情境之外連接到此報告時，需要知道在應使用什麼識別碼。"/>
      <alias value="ReportID"/>
      <alias value="Filler ID"/>
      <alias value="Placer ID"/>
      <min value="1"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.identifier"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Identifier"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.identifier"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.identifier"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-51/ for globally unique filler ID  - OBR-3 , For non-globally unique filler-id the flller/placer number must be combined with the universal service Id -  OBR-2(if present)+OBR-3+OBR-4"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="id"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber">
      <path value="DiagnosticReport.identifier"/>
      <sliceName value="medicalrecordNumber"/>
      <short value="適用該就醫紀錄之就診序號"/>
      <definition value="適用於該就醫紀錄之就診序號"/>
      <comment value="此識別碼通常由診斷服務提供者的資訊系統指定"/>
      <requirements value="病人幾乎總是被指定一個特定的數值型的唯一識別碼（identifier）"/>
      <alias value="ReportID"/>
      <alias value="Filler ID"/>
      <alias value="Placer ID"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.identifier"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Identifier"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.identifier"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.identifier"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-51/ for globally unique filler ID  - OBR-3 , For non-globally unique filler-id the flller/placer number must be combined with the universal service Id -  OBR-2(if present)+OBR-3+OBR-4"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="id"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.id">
      <path value="DiagnosticReport.identifier.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照）。這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.extension">
      <path value="DiagnosticReport.identifier.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="擴充的資料項目"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.use">
      <path value="DiagnosticReport.identifier.use"/>
      <short value="usual ｜ official ｜ temp ｜ secondary ｜ old （如果知道）"/>
      <definition value="這個唯一識別碼（identifier）的用途"/>
      <comment value="應用程式可以假定一個識別碼是永久的，除非它明確說它是暫時的。"/>
      <requirements value="允許從一組識別碼中為特定的使用情境選擇適當的識別碼"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Identifier.use"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <patternCode value="official"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="true"/>
      <isModifierReason value="This is labeled as &quot;Is Modifier&quot; because applications should not mistake a temporary id for a permanent one."/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="IdentifierUse"/>
        </extension>
        <strength value="required"/>
        <description value="如果知道，請說明此識別碼的目的；應填入[IdentifierUse](http://hl7.org/fhir/R4/valueset-identifier-use.html)代碼表中的其中一個代碼。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/identifier-use|4.0.1"/>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="N/A"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Role.code or implied by context"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type">
      <path value="DiagnosticReport.identifier.type"/>
      <short value="身份識別碼（identifier）的型別說明"/>
      <definition value="識別碼的代碼型別，用於決定特定目適用的識別碼。"/>
      <comment value="這個資料項目只涉及識別碼的一般類別。它 **必須沒有（SHALL NOT）** 被用於與Identifier.system 1..1對應的代碼。一些識別碼可能由於常見的用法而屬於多個類別。在系統是已知的情況下，型別是不必要的，因為型別總是系統定義的一部分。然而，系統經常需要處理系統不為人知的識別碼。型別和系統之間不是1:1的關係，因為許多不同的系統有相同的型別。"/>
      <requirements value="允許使用者在不知道識別碼系統的情況下利用識別碼"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Identifier.type"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <strength value="required"/>
        <description value="識別碼的型別，用於決定特定目的所適用的識別碼；應填入[臺灣識別碼類型值集](https://twcore.mohw.gov.tw/ig/twcore/ValueSet-identifier-type-tw.html)代碼表中適合的代碼，確定無適合的代碼才可以使用其他代碼中的代碼來表示。"/>
        <valueSet value="https://twcore.mohw.gov.tw/ig/twcore/ValueSet/identifier-type-tw"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.id">
      <path value="DiagnosticReport.identifier.type.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照），這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.extension">
      <path value="DiagnosticReport.identifier.type.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="擴充的資料項目"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding">
      <path value="DiagnosticReport.identifier.type.coding"/>
      <short value="由專門術語系統（terminology system）定義的代碼"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，例如：SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles ）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.id">
      <path value="DiagnosticReport.identifier.type.coding.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照），這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.extension">
      <path value="DiagnosticReport.identifier.type.coding.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="可用於表示不屬於此資料項目基本定義的附加資訊。為了擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何污名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.system">
      <path value="DiagnosticReport.identifier.type.coding.system"/>
      <short value="專門術語系統（terminology system）的識別"/>
      <definition value="定義代碼中符號意義的代碼系統識別"/>
      <comment value="URI可以是一個OID（urn:oid:...）或一個UUID（urn:uuid:...）；OID和UUID **必須(SHALL)** 參照HL7 OID註冊中心；否則，URI應該來自HL7的FHIR定義的特殊URI列表，或者它應該參照一些明確建立的系统定義。"/>
      <requirements value="需要明確說明符號定義的來源"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Coding.system"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <patternUri value="http://terminology.hl7.org/CodeSystem/v2-0203"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.3"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystem"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.system rdfs:subPropertyOf dt:CDCoding.codeSystem"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.version">
      <path value="DiagnosticReport.identifier.type.coding.version"/>
      <short value="系統的版本—如果相關的話"/>
      <definition value="選擇此代碼時使用的代碼系統版本；請注意，一個維護良好的代碼系統不需要版本報告，因為代碼的意義在不同系統版本中是一致的；然而，不能始終保證這點，當不能保證意義一致時， **必須(SHALL)** 將版本資訊也一併作交換。"/>
      <comment value="如果專門術語沒有明確定義應該使用什麼字串來識別代碼系統的版本，建議使用版本正式發布的日期（用FHIR日期格式表示）作為版本日期。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.version"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystemVersion"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.version rdfs:subPropertyOf dt:CDCoding.codeSystemVersion"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.code">
      <path value="DiagnosticReport.identifier.type.coding.code"/>
      <short value="系統定義的語法之符號"/>
      <definition value="系統定義的語法之符號；符號可能是一個預先定義的代碼，也可能是代碼系統定義的語法中的表達式（如後組合配對／後組合式）。"/>
      <requirements value="需要參照系統中的一個特定代碼"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Coding.code"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <patternCode value="MRT"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.1"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./code"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.code rdfs:subPropertyOf dt:CDCoding.code"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="DiagnosticReport.identifier.type.coding.display"/>
      <short value="由系統定義的表示法"/>
      <definition value="遵循系統的規則以呈現代碼含義的表示法"/>
      <requirements value="需要能為不了解此系統的讀者呈現可讀的代碼含義"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.display"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.2 - but note this is not well followed"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV.displayName"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.display rdfs:subPropertyOf dt:CDCoding.displayName"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.userSelected">
      <path value="DiagnosticReport.identifier.type.coding.userSelected"/>
      <short value="此編碼是否由使用者直接選擇？"/>
      <definition value="表明此編碼是由使用者直接選擇，例如：從可用項目（代碼或顯示名稱）的清單中選擇。"/>
      <comment value="在一系列備選方案中，直接選擇的代碼是新翻譯最合適的起點；關於「直接選擇」的確切意義，存在模糊不清之處，可能需要貿易夥伴的同意，以更完整澄清此資料項目的使用及其後果。"/>
      <requirements value="已被確定為一個臨床安全準則—此確切的系統／代碼對(code pair)是被明確選擇的，而不是由系統根據一些規則或是程式語言處理判斷。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.userSelected"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="boolean"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="Sometimes implied by being first"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD.codingRationale"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.userSelected fhir:mapsTo dt:CDCoding.codingRationale. fhir:Coding.userSelected fhir:hasMap fhir:Coding.userSelected.map. fhir:Coding.userSelected.map a fhir:Map;   fhir:target dt:CDCoding.codingRationale. fhir:Coding.userSelected\#true a [     fhir:source &quot;true&quot;;     fhir:target dt:CDCoding.codingRationale\#O   ]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="DiagnosticReport.identifier.type.text"/>
      <short value="概念的文字表示法"/>
      <definition value="輸入資料的使用者所見／所選／所說的人類可讀文字表述，和（或）其代表使用者的預期含義。"/>
      <comment value="很多時候，此文字表述與其中一個代碼的顯示名稱相同。"/>
      <requirements value="專門術語中的代碼並不總是能捕捉人類使用的細微差別的正確意義，或者根本就沒有合適的代碼；這些情況下，文字表述被用來捕捉來源的全部意義。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.9. But note many systems use C*E.2 for this"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./originalText[mediaType/code=&quot;text/plain&quot;]/data"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept.text rdfs:subPropertyOf dt:CD.originalText"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.system">
      <path value="DiagnosticReport.identifier.system"/>
      <short value="就診序號發號者/機構/單位"/>
      <definition value="建立值的命名空間－即一個描述一組值的唯一URL"/>
      <comment value="Identifier.system總是區分大小寫"/>
      <requirements value="有許多識別碼的集合。為了進行兩個識別碼的對應，我們需要知道我們處理的是哪一組。系統指明了一個特定的唯一識別碼集。"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Identifier.system"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <example>
        <label value="General"/>
        <valueUri value="http://www.acme.com/identifiers/patient"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.4 / EI-2-4"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="II.root or Role.id.root"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./IdentifierType"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.value">
      <path value="DiagnosticReport.identifier.value"/>
      <short value="唯一值。&#xD;&#xA;例如：就診序號為0123456789"/>
      <definition value="識別碼中通常與使用者有關的部分，在系統情境內是唯一的。"/>
      <comment value="如果此值是一個完整的URI，那麼此系統 **必須（SHALL）** 是urn:ietf:rfc:3986。此值的主要目的是為了可運算的對應。因此，為了比較的目的，它可能會被正規化（例如：去除不重要的空白、破折號等）。一個為人顯示的格式化的值可以使用[Rendered Value](http://hl7.org/fhir/R4/extension-rendered-value.html)擴充來傳達。除非對Identifier.system的了解使處理者確信不區分大小寫的處理是安全的，否則Identifier.value應被視為區分大小寫。"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Identifier.value"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <example>
        <label value="General"/>
        <valueString value="123456"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.1 / EI.1"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="II.extension or II.root if system indicates OID or GUID (Or Role.id.extension or root)"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./Value"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.period">
      <path value="DiagnosticReport.identifier.period"/>
      <short value="此身份識別碼（identifier）的使用效期"/>
      <definition value="識別碼有效／曾經有效使用的時段或期間"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Identifier.period"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Period"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.7 + CX.8"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Role.effectiveTime or implied by context"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./StartDate and ./EndDate"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.assigner">
      <path value="DiagnosticReport.identifier.assigner"/>
      <short value="簽發identifier的機構（可以只是文字表述）"/>
      <definition value="簽發／管理識別碼的機構"/>
      <comment value="Identifier.assigner可以省略.reference資料項目，只包含一個.display資料項目，反映指定機構的名稱或其他文字表述資訊。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Identifier.assigner"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Organization-hosp-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.4 / (CX.4,CX.9,CX.10)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="II.assigningAuthorityName but note that this is an improper use by the definition of the field.  Also Role.scoper"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./IdentifierIssuingAuthority"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.basedOn">
      <path value="DiagnosticReport.basedOn"/>
      <short value="此報告是基於什麼服務的請求"/>
      <definition value="有關請求的服務的細節"/>
      <comment value="注意：通常每個結果有一個檢驗服務請求，但是在某些情況下，多個檢驗服務請求可以用同一個檢驗結果resource來表示。請注意，也存在一個服務請求導致多個報告的情況。"/>
      <requirements value="允許追蹤報告的授權，並追蹤提案／建議是否被採納。"/>
      <alias value="Request"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.basedOn"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/CarePlan"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/ImmunizationRecommendation"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/MedicationRequest-twcore"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/NutritionOrder"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/ServiceRequest"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.basedOn"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="ORC? OBR-2/3?"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="outboundRelationship[typeCode=FLFS].target"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.status">
      <path value="DiagnosticReport.status"/>
      <short value="registered | partial | preliminary | final +"/>
      <definition value="診斷報告的狀態"/>
      <requirements value="診斷服務通常會發布臨時／不完整的報告，有時候也會撤銷之前已發布的報告。"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.status"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <patternCode value="final"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="true"/>
      <isModifierReason value="This element is labeled as a modifier because it is a status element that contains status entered-in-error which means that the resource should not be treated as valid"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="DiagnosticReportStatus"/>
        </extension>
        <strength value="required"/>
        <description value="診斷報告狀態；應填入[DiagnosticReportStatus](http://hl7.org/fhir/R4/valueset-diagnostic-report-status.html)值集中的其中一個代碼"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/diagnostic-report-status|4.0.1"/>
      </binding>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.status"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.status"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-25 (not 1:1 mapping)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="statusCode  Note: final and amended are distinguished by whether observation is the subject of a ControlAct event of type &quot;revise&quot;"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category">
      <path value="DiagnosticReport.category"/>
      <slicing>
        <discriminator>
          <type value="pattern"/>
          <path value="$this"/>
        </discriminator>
        <rules value="open"/>
      </slicing>
      <short value="服務類別"/>
      <definition value="對建立報告的臨床科、部門或診斷服務進行分類的代碼（例如：心臟病學、生物化學、血液學、MRI）。主要為了搜尋、排序和顯示時使用。"/>
      <comment value="允許使用各種分類方案的多個類別。精細度由值集中的類別概念來定義。可使用DiagnosticReport.code中的metadata和（或）專門術語層次結構進行更細微的過濾。"/>
      <alias value="Department"/>
      <alias value="Sub-department"/>
      <alias value="Service"/>
      <alias value="Discipline"/>
      <min value="1"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.category"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="DiagnosticServiceSection"/>
        </extension>
        <strength value="example"/>
        <description value="可參考[DiagnosticServiceSectionCodes](http://hl7.org/fhir/R4/valueset-diagnostic-service-sections.html)值集，但此值集只是針對這個欄位的一個可能值的範例，不預期也不鼓勵使用者一定要使用此值集的代碼。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/diagnostic-service-sections"/>
      </binding>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.class"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-24"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="inboundRelationship[typeCode=COMP].source[classCode=LIST, moodCode=EVN, code &lt; LabService].code"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.id">
      <path value="DiagnosticReport.category.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照）。這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.extension">
      <path value="DiagnosticReport.category.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="擴充的資料項目"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.category.coding">
      <path value="DiagnosticReport.category.coding"/>
      <short value="由專門術語系統（terminology system）定義的代碼"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，例如：SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles ）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.coding.id">
      <path value="DiagnosticReport.category.coding.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照），這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.coding.extension">
      <path value="DiagnosticReport.category.coding.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="可用於表示不屬於此資料項目基本定義的附加資訊。為了擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何污名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.category.coding.system">
      <path value="DiagnosticReport.category.coding.system"/>
      <short value="專門術語系統（terminology system）的識別"/>
      <definition value="定義代碼中符號意義的代碼系統識別"/>
      <comment value="URI可以是一個OID（urn:oid:...）或一個UUID（urn:uuid:...）；OID和UUID **必須(SHALL)** 參照HL7 OID註冊中心；否則，URI應該來自HL7的FHIR定義的特殊URI列表，或者它應該參照一些明確建立的系统定義。"/>
      <requirements value="需要明確說明符號定義的來源"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.system"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <patternUri value="http://terminology.hl7.org/CodeSystem/v2-0074"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.3"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystem"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.system rdfs:subPropertyOf dt:CDCoding.codeSystem"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.coding.version">
      <path value="DiagnosticReport.category.coding.version"/>
      <short value="系統的版本—如果相關的話"/>
      <definition value="選擇此代碼時使用的代碼系統版本；請注意，一個維護良好的代碼系統不需要版本報告，因為代碼的意義在不同系統版本中是一致的；然而，不能始終保證這點，當不能保證意義一致時， **必須(SHALL)** 將版本資訊也一併作交換。"/>
      <comment value="如果專門術語沒有明確定義應該使用什麼字串來識別代碼系統的版本，建議使用版本正式發布的日期（用FHIR日期格式表示）作為版本日期。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.version"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystemVersion"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.version rdfs:subPropertyOf dt:CDCoding.codeSystemVersion"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.coding.code">
      <path value="DiagnosticReport.category.coding.code"/>
      <short value="系統定義的語法之符號"/>
      <definition value="系統定義的語法之符號；符號可能是一個預先定義的代碼，也可能是代碼系統定義的語法中的表達式（如後組合配對／後組合式）。"/>
      <requirements value="需要參照系統中的一個特定代碼"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.code"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <patternCode value="LAB"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.1"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./code"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.code rdfs:subPropertyOf dt:CDCoding.code"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="DiagnosticReport.category.coding.display"/>
      <short value="由系統定義的表示法"/>
      <definition value="遵循系統的規則以呈現代碼含義的表示法"/>
      <requirements value="需要能為不了解此系統的讀者呈現可讀的代碼含義"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.display"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <patternString value="Laboratory"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.2 - but note this is not well followed"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV.displayName"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.display rdfs:subPropertyOf dt:CDCoding.displayName"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.coding.userSelected">
      <path value="DiagnosticReport.category.coding.userSelected"/>
      <short value="此編碼是否由使用者直接選擇？"/>
      <definition value="表明此編碼是由使用者直接選擇，例如：從可用項目（代碼或顯示名稱）的清單中選擇。"/>
      <comment value="在一系列備選方案中，直接選擇的代碼是新翻譯最合適的起點；關於「直接選擇」的確切意義，存在模糊不清之處，可能需要貿易夥伴的同意，以更完整澄清此資料項目的使用及其後果。"/>
      <requirements value="已被確定為一個臨床安全準則—此確切的系統／代碼對(code pair)是被明確選擇的，而不是由系統根據一些規則或是程式語言處理判斷。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.userSelected"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="boolean"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="Sometimes implied by being first"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD.codingRationale"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.userSelected fhir:mapsTo dt:CDCoding.codingRationale. fhir:Coding.userSelected fhir:hasMap fhir:Coding.userSelected.map. fhir:Coding.userSelected.map a fhir:Map;   fhir:target dt:CDCoding.codingRationale. fhir:Coding.userSelected\#true a [     fhir:source &quot;true&quot;;     fhir:target dt:CDCoding.codingRationale\#O   ]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="DiagnosticReport.category.text"/>
      <short value="概念的文字表示法"/>
      <definition value="輸入資料的使用者所見／所選／所說的人類可讀文字表述，和（或）其代表使用者的預期含義。"/>
      <comment value="很多時候，此文字表述與其中一個代碼的顯示名稱相同。"/>
      <requirements value="專門術語中的代碼並不總是能捕捉人類使用的細微差別的正確意義，或者根本就沒有合適的代碼；這些情況下，文字表述被用來捕捉來源的全部意義。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.9. But note many systems use C*E.2 for this"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./originalText[mediaType/code=&quot;text/plain&quot;]/data"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept.text rdfs:subPropertyOf dt:CD.originalText"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.category:DiagnosticServiceSectionCodes">
      <path value="DiagnosticReport.category"/>
      <sliceName value="DiagnosticServiceSectionCodes"/>
      <short value="概念（Concept）— 參照一個專門術語或只是文字表述"/>
      <definition value="A concept that may be defined by a formal reference to a terminology or ontology or may be provided by text."/>
      <comment value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
      <alias value="Department"/>
      <alias value="Sub-department"/>
      <alias value="Service"/>
      <alias value="Discipline"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.category"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <patternCodeableConcept>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/v2-0074"/>
          <code value="LAB"/>
        </coding>
      </patternCodeableConcept>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="DiagnosticServiceSection"/>
        </extension>
        <strength value="example"/>
        <description value="Codes for diagnostic service sections."/>
        <valueSet value="http://hl7.org/fhir/ValueSet/diagnostic-service-sections"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code">
      <path value="DiagnosticReport.code"/>
      <short value="此診斷報告的名稱／代碼"/>
      <definition value="描述該診斷報告的代碼或名稱"/>
      <comment value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
      <alias value="Type"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.code"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="DiagnosticReportCodes"/>
        </extension>
        <strength value="preferred"/>
        <description value="鼓勵使用[LOINCDiagnosticReportCodes](http://hl7.org/fhir/R4/valueset-report-codes.html)值集中的代碼，但不強制一定要使用此值集，你也可使用其他值集的代碼或單純以文字表示。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/report-codes"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.id">
      <path value="DiagnosticReport.code.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照）。這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.extension">
      <path value="DiagnosticReport.code.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="擴充的資料項目"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.code.coding">
      <path value="DiagnosticReport.code.coding"/>
      <slicing>
        <discriminator>
          <type value="pattern"/>
          <path value="system"/>
        </discriminator>
        <rules value="open"/>
      </slicing>
      <short value="由專門術語系統（terminology system）定義的代碼"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，例如：SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles ）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode">
      <path value="DiagnosticReport.code.coding"/>
      <sliceName value="LOINCObservationCode"/>
      <short value="LOINC®為Regenstrief Institute, Inc.維護的檢驗事件描述代碼，可免費使用，可優先選用此代碼。"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，例如：SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles ）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <strength value="required"/>
        <description value="應填入[LOINC實驗室檢驗檢查值集](https://twcore.mohw.gov.tw/ig/twcore/ValueSet-loinc-observation-code.html)值集中的其中一個代碼。"/>
        <valueSet value="https://twcore.mohw.gov.tw/ig/twcore/ValueSet/loinc-observation-code"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode.id">
      <path value="DiagnosticReport.code.coding.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照），這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode.extension">
      <path value="DiagnosticReport.code.coding.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="可用於表示不屬於此資料項目基本定義的附加資訊。為了擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何污名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode.system">
      <path value="DiagnosticReport.code.coding.system"/>
      <short value="專門術語系統（terminology system）的識別"/>
      <definition value="定義代碼中符號意義的代碼系統識別"/>
      <comment value="URI可以是一個OID（urn:oid:...）或一個UUID（urn:uuid:...）；OID和UUID **必須(SHALL)** 參照HL7 OID註冊中心；否則，URI應該來自HL7的FHIR定義的特殊URI列表，或者它應該參照一些明確建立的系统定義。"/>
      <requirements value="需要明確說明符號定義的來源"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Coding.system"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <patternUri value="http://loinc.org"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.3"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystem"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.system rdfs:subPropertyOf dt:CDCoding.codeSystem"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode.version">
      <path value="DiagnosticReport.code.coding.version"/>
      <short value="系統的版本—如果相關的話"/>
      <definition value="選擇此代碼時使用的代碼系統版本；請注意，一個維護良好的代碼系統不需要版本報告，因為代碼的意義在不同系統版本中是一致的；然而，不能始終保證這點，當不能保證意義一致時， **必須(SHALL)** 將版本資訊也一併作交換。"/>
      <comment value="如果專門術語沒有明確定義應該使用什麼字串來識別代碼系統的版本，建議使用版本正式發布的日期（用FHIR日期格式表示）作為版本日期。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.version"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystemVersion"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.version rdfs:subPropertyOf dt:CDCoding.codeSystemVersion"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode.code">
      <path value="DiagnosticReport.code.coding.code"/>
      <short value="系統定義的語法之符號"/>
      <definition value="系統定義的語法之符號；符號可能是一個預先定義的代碼，也可能是代碼系統定義的語法中的表達式（如後組合配對／後組合式）。"/>
      <requirements value="需要參照系統中的一個特定代碼"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Coding.code"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.1"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./code"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.code rdfs:subPropertyOf dt:CDCoding.code"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="DiagnosticReport.code.coding.display"/>
      <short value="由系統定義的表示法"/>
      <definition value="遵循系統的規則以呈現代碼含義的表示法"/>
      <requirements value="需要能為不了解此系統的讀者呈現可讀的代碼含義"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.display"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.2 - but note this is not well followed"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV.displayName"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.display rdfs:subPropertyOf dt:CDCoding.displayName"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:LOINCObservationCode.userSelected">
      <path value="DiagnosticReport.code.coding.userSelected"/>
      <short value="此編碼是否由使用者直接選擇？"/>
      <definition value="表明此編碼是由使用者直接選擇，例如：從可用項目（代碼或顯示名稱）的清單中選擇。"/>
      <comment value="在一系列備選方案中，直接選擇的代碼是新翻譯最合適的起點；關於「直接選擇」的確切意義，存在模糊不清之處，可能需要貿易夥伴的同意，以更完整澄清此資料項目的使用及其後果。"/>
      <requirements value="已被確定為一個臨床安全準則—此確切的系統／代碼對(code pair)是被明確選擇的，而不是由系統根據一些規則或是程式語言處理判斷。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.userSelected"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="boolean"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="Sometimes implied by being first"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD.codingRationale"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.userSelected fhir:mapsTo dt:CDCoding.codingRationale. fhir:Coding.userSelected fhir:hasMap fhir:Coding.userSelected.map. fhir:Coding.userSelected.map a fhir:Map;   fhir:target dt:CDCoding.codingRationale. fhir:Coding.userSelected\#true a [     fhir:source &quot;true&quot;;     fhir:target dt:CDCoding.codingRationale\#O   ]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory">
      <path value="DiagnosticReport.code.coding"/>
      <sliceName value="TWLaboratoryCategory"/>
      <short value="此為中央健康保險署(NHI)維護之醫療服務給付項目-檢驗相關代碼，主要針對申報使用，更新頻率相對頻繁，可免費使用，可依情境選用此代碼。"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，例如：SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles ）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <strength value="required"/>
        <description value="應填入[臺灣醫療服務給付項目-檢驗值集](https://twcore.mohw.gov.tw/ig/twcore/ValueSet-laboratory-category-tw.html)值集中的其中一個代碼。"/>
        <valueSet value="https://twcore.mohw.gov.tw/ig/twcore/ValueSet/laboratory-category-tw"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory.id">
      <path value="DiagnosticReport.code.coding.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照），這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory.extension">
      <path value="DiagnosticReport.code.coding.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="可用於表示不屬於此資料項目基本定義的附加資訊。為了擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何污名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory.system">
      <path value="DiagnosticReport.code.coding.system"/>
      <short value="專門術語系統（terminology system）的識別"/>
      <definition value="定義代碼中符號意義的代碼系統識別"/>
      <comment value="URI可以是一個OID（urn:oid:...）或一個UUID（urn:uuid:...）；OID和UUID **必須(SHALL)** 參照HL7 OID註冊中心；否則，URI應該來自HL7的FHIR定義的特殊URI列表，或者它應該參照一些明確建立的系统定義。"/>
      <requirements value="需要明確說明符號定義的來源"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Coding.system"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <patternUri value="https://twcore.mohw.gov.tw/ig/twcore/CodeSystem/medical-service-payment-tw"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.3"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystem"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.system rdfs:subPropertyOf dt:CDCoding.codeSystem"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory.version">
      <path value="DiagnosticReport.code.coding.version"/>
      <short value="系統的版本—如果相關的話"/>
      <definition value="選擇此代碼時使用的代碼系統版本；請注意，一個維護良好的代碼系統不需要版本報告，因為代碼的意義在不同系統版本中是一致的；然而，不能始終保證這點，當不能保證意義一致時， **必須(SHALL)** 將版本資訊也一併作交換。"/>
      <comment value="如果專門術語沒有明確定義應該使用什麼字串來識別代碼系統的版本，建議使用版本正式發布的日期（用FHIR日期格式表示）作為版本日期。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.version"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystemVersion"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.version rdfs:subPropertyOf dt:CDCoding.codeSystemVersion"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory.code">
      <path value="DiagnosticReport.code.coding.code"/>
      <short value="系統定義的語法之符號"/>
      <definition value="系統定義的語法之符號；符號可能是一個預先定義的代碼，也可能是代碼系統定義的語法中的表達式（如後組合配對／後組合式）。"/>
      <requirements value="需要參照系統中的一個特定代碼"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Coding.code"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.1"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./code"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.code rdfs:subPropertyOf dt:CDCoding.code"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="DiagnosticReport.code.coding.display"/>
      <short value="由系統定義的表示法"/>
      <definition value="遵循系統的規則以呈現代碼含義的表示法"/>
      <requirements value="需要能為不了解此系統的讀者呈現可讀的代碼含義"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.display"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.2 - but note this is not well followed"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV.displayName"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.display rdfs:subPropertyOf dt:CDCoding.displayName"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.coding:TWLaboratoryCategory.userSelected">
      <path value="DiagnosticReport.code.coding.userSelected"/>
      <short value="此編碼是否由使用者直接選擇？"/>
      <definition value="表明此編碼是由使用者直接選擇，例如：從可用項目（代碼或顯示名稱）的清單中選擇。"/>
      <comment value="在一系列備選方案中，直接選擇的代碼是新翻譯最合適的起點；關於「直接選擇」的確切意義，存在模糊不清之處，可能需要貿易夥伴的同意，以更完整澄清此資料項目的使用及其後果。"/>
      <requirements value="已被確定為一個臨床安全準則—此確切的系統／代碼對(code pair)是被明確選擇的，而不是由系統根據一些規則或是程式語言處理判斷。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Coding.userSelected"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="boolean"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="Sometimes implied by being first"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD.codingRationale"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.userSelected fhir:mapsTo dt:CDCoding.codingRationale. fhir:Coding.userSelected fhir:hasMap fhir:Coding.userSelected.map. fhir:Coding.userSelected.map a fhir:Map;   fhir:target dt:CDCoding.codingRationale. fhir:Coding.userSelected\#true a [     fhir:source &quot;true&quot;;     fhir:target dt:CDCoding.codingRationale\#O   ]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.code.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="DiagnosticReport.code.text"/>
      <short value="概念的文字表示法"/>
      <definition value="輸入資料的使用者所見／所選／所說的人類可讀文字表述，和（或）其代表使用者的預期含義。"/>
      <comment value="很多時候，此文字表述與其中一個代碼的顯示名稱相同。"/>
      <requirements value="專門術語中的代碼並不總是能捕捉人類使用的細微差別的正確意義，或者根本就沒有合適的代碼；這些情況下，文字表述被用來捕捉來源的全部意義。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.9. But note many systems use C*E.2 for this"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./originalText[mediaType/code=&quot;text/plain&quot;]/data"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept.text rdfs:subPropertyOf dt:CD.originalText"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.subject">
      <path value="DiagnosticReport.subject"/>
      <short value="報告的對象—通常但不總是病人"/>
      <definition value="報告的對象體，通常但不總是病人。然而，診斷服務也對從其他各種來源收集的檢體進行分析。"/>
      <requirements value=" **必須(SHALL)** 知道對象的背景"/>
      <alias value="Patient"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.subject"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://tstifhir.azurehealthcareapis.com/StructureDefinition/Patient-adultcheck"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.subject"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.subject[x]"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="PID-3 (no HL7 v2 mapping for Group or Device)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="participation[typeCode=SBJ]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.subject"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.encounter">
      <path value="DiagnosticReport.encounter"/>
      <short value="請求檢驗時的健康照護事件"/>
      <definition value="此DiagnosticReport所涉及的健康照護事件（例如：病人和健康照護服務提供者的互動）。"/>
      <comment value="這通常是事件發生的就醫，但有些事件可能是在就醫完成之前或之後開始，但仍與就醫的情境有關（如住院前的實驗室檢驗）。"/>
      <requirements value="將此服務請求連接就醫（Encounter）情境"/>
      <alias value="Context"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.encounter"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Encounter-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.encounter"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.context"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="PV1-19"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="inboundRelationship[typeCode=COMP].source[classCode=ENC, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.effective[x]">
      <path value="DiagnosticReport.effective[x]"/>
      <slicing>
        <discriminator>
          <type value="type"/>
          <path value="$this"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
      <short value="與臨床相關的時間／報告的時段"/>
      <definition value="觀察值與之相關的時間或時段。當報告的對象是病人時，這通常是處置的時間或檢體採集的時間，但往往不知道日期／時間的來源，只知道日期／時間本身。"/>
      <comment value="如果對病人進行診斷處置，這就是進行該處置的時間。如果有檢體，可以從檢體採集時間得出診斷相關時間，但檢體資訊並不總是可用，而且檢體和診斷相關時間之間並不總是自動的確切關係。"/>
      <requirements value="需要知道在病歷的什麼地方儲存檔案／呈現此報告"/>
      <alias value="Observation time"/>
      <alias value="Effective Time"/>
      <alias value="Occurrence"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.effective[x]"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support">
          <valueBoolean value="true"/>
        </extension>
        <code value="dateTime"/>
      </type>
      <type>
        <code value="Period"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.occurrence[x]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.done[x]"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="effectiveTime"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.effective[x]:effectiveDateTime">
      <path value="DiagnosticReport.effective[x]"/>
      <sliceName value="effectiveDateTime"/>
      <short value="與臨床相關的時間／報告的時段"/>
      <definition value="觀察值與之相關的時間或時段。當報告的對象是病人時，這通常是處置的時間或檢體採集的時間，但往往不知道日期／時間的來源，只知道日期／時間本身。"/>
      <comment value="如果對病人進行診斷處置，這就是進行該處置的時間。如果有檢體，可以從檢體採集時間得出診斷相關時間，但檢體資訊並不總是可用，而且檢體和診斷相關時間之間並不總是自動的確切關係。"/>
      <requirements value="需要知道在病歷的什麼地方儲存檔案／呈現此報告"/>
      <alias value="Observation time"/>
      <alias value="Effective Time"/>
      <alias value="Occurrence"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.effective[x]"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support">
          <valueBoolean value="true"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support">
          <valueBoolean value="true"/>
        </extension>
        <code value="dateTime"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.occurrence[x]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.done[x]"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="effectiveTime"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.issued">
      <path value="DiagnosticReport.issued"/>
      <short value="此版本完成的日期時間"/>
      <definition value="這個版本的報告提供給健康照護提供者的日期和時間，通常是在報告被審查和核實之後。"/>
      <comment value="可能與resource本身的更新時間不同，因為那是紀錄的狀態（可能是第二個副本），而不是發報告的實際時間。"/>
      <requirements value="臨床醫師需要確認報告的發布日期"/>
      <alias value="Date published"/>
      <alias value="Date Issued"/>
      <alias value="Date Verified"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.issued"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="instant"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.recorded"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-22"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="participation[typeCode=VRF or AUT].time"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.performer">
      <path value="DiagnosticReport.performer"/>
      <short value="委託代檢之醫事機構"/>
      <definition value="負責發此報告的診斷服務"/>
      <comment value="這不一定是一些混合的不可被中斷的一個或一系列資料項目的來源或解釋結果的實體，它是對臨床報告負責的實體。"/>
      <requirements value="如果對結果有疑問，需要知道應與誰聯絡；還可能需要追蹤次級資料分析的報告來源。"/>
      <alias value="Laboratory"/>
      <alias value="Service"/>
      <alias value="Practitioner"/>
      <alias value="Department"/>
      <alias value="Company"/>
      <alias value="Authorized by"/>
      <alias value="Director"/>
      <min value="1"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.performer"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Organization-hosp-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.performer.actor"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.actor"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="PRT-8 (where this PRT-4-Participation = &quot;PO&quot;)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.resultsInterpreter">
      <path value="DiagnosticReport.resultsInterpreter"/>
      <short value="所屬醫事機構"/>
      <definition value="對報告的結論和解釋負責的健康照護服務提供人員或組織"/>
      <comment value="可能不是對臨床報告負責的同一個實體"/>
      <requirements value="如果對結果有疑問，需要知道應與誰聯絡；還可能需要追蹤次級資料分析的報告來源。"/>
      <alias value="Analyzed by"/>
      <alias value="Reported by"/>
      <min value="1"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.resultsInterpreter"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Organization-hosp-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.performer.actor"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.actor"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBR-32, PRT-8 (where this PRT-4-Participation = &quot;PI&quot;)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.specimen">
      <path value="DiagnosticReport.specimen"/>
      <short value="此報告所依據的檢體"/>
      <definition value="關於此診斷報告所依據的檢體的詳細資訊"/>
      <comment value="如果在檢驗結果名稱中充分指明檢體的代碼，那麼此附加資料就可能是多餘的。如果有多個檢體，可在每個檢驗檢查或檢驗檢查套組中表示。"/>
      <requirements value="需要能夠報告已收集檢體之資訊，這些資訊是報告的基礎。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.specimen"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Specimen"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="v2"/>
        <map value="SPM"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="participation[typeCode=SBJ]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.result">
      <path value="DiagnosticReport.result"/>
      <short value="檢驗檢查"/>
      <definition value="[檢驗檢查](http://hl7.org/fhir/R4/observation.html)為此診斷報告的一部分"/>
      <comment value="Observations可包含檢驗檢查值"/>
      <requirements value="需支援單一結果或一組結果，結果分組是隨機但有意義的。"/>
      <alias value="Data"/>
      <alias value="Atomic Value"/>
      <alias value="Result"/>
      <alias value="Atomic result"/>
      <alias value="Data"/>
      <alias value="Test"/>
      <alias value="Analyte"/>
      <alias value="Battery"/>
      <alias value="Organizer"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.result"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Observation-laboratoryResult-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="v2"/>
        <map value="OBXs"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="outboundRelationship[typeCode=COMP].target"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.imagingStudy">
      <path value="DiagnosticReport.imagingStudy"/>
      <short value="參照至與診斷報告相關的成像之全部細節"/>
      <definition value="一個或多個連結指向診斷調查期間進行的任何成像的全部細節。一般情況下，這是由支援DICOM的儀器進行的成像，但這並不是必須的。一個完整的PACS viewer可以使用這些資訊來提供來源影像的視圖。"/>
      <comment value="影像檢查（ImagingStudy）和影像（image）資料項目在某種程度上是重疊的—通常，影像（image）資料項目的影像參照清單也會在某個影像檢查（ImagingStudy） resource中找到。然而，每一種都迎合了不同類型的目的的顯示。兩者都不提供，或者兩者都提供。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.imagingStudy"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/ImagingStudy"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="outboundRelationship[typeCode=COMP].target[classsCode=DGIMG, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.media">
      <path value="DiagnosticReport.media"/>
      <short value="與此報告相關的關鍵影像"/>
      <definition value="與此報告相關的關鍵影像的清單。這些影像一般是在診斷過程中產生的，可以直接是病人的，也可以是經過處理的檢體（即感興趣的玻片）。"/>
      <requirements value="許多診斷服務包含將報告中的影像作為服務的一部份"/>
      <alias value="DICOM"/>
      <alias value="Slides"/>
      <alias value="Scans"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.media"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="OBX?"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="outboundRelationship[typeCode=COMP].target"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.media.id">
      <path value="DiagnosticReport.media.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照）。這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.media.extension">
      <path value="DiagnosticReport.media.extension"/>
      <short value="擴充的資料項目"/>
      <definition value="可用於表示不屬於此資料項目基本定義的附加資訊。為了擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何汙名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="DiagnosticReport.media.modifierExtension">
      <path value="DiagnosticReport.media.modifierExtension"/>
      <short value="此擴充的資料項目可能會完全修正或改變其他資料項目的意涵，需特別留意。"/>
      <definition value="可以用來表示不屬於資料項目的基本定義的附加資訊，並且修改對它所內嵌（contained）的資料項目的理解和（或）對包含資料項目之後續使用的理解。通常，修飾用的資料項目提供否定或限定。為了使擴充的使用安全和可管理，對擴充的定義和使用有一套嚴格的管理。儘管任何實作者都可以定義一個擴充，但作為擴充定義的一部分，有一套要求 **必須（SHALL）** 滿足。處理resource的應用程式被要求檢查修飾用的擴充資料項目。 &#xD;&#xA; 修飾用的擴充資料項目 **必須沒有（SHALL NOT）** 改變resource或DomainResource上任何資料項目的含義（包括不能改變modifierExtension本身的含義）。"/>
      <comment value="無論使用或定義擴充的機構或管轄區，任何應用程式、專案或標準使用擴充都不背負任何汙名（stigma）。使用擴充是允許FHIR規範為每個人保留一個核心的簡易性。"/>
      <requirements value="修飾用的資料項目擴充將不能安全地忽略的擴充與絕大多數可以安全地忽略的擴充明確區分開來。透過消除禁止實作者擴充存在的需求來促進可互通性。更多訊息，請參見[修飾用的資料項目擴充之定義](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
      <isSummary value="true"/>
    </element>
    <element id="DiagnosticReport.media.comment">
      <path value="DiagnosticReport.media.comment"/>
      <short value="關於影像的意見（例如：解釋）。"/>
      <definition value="關於影像的意見，一般情況下，這是用來解釋為什麼影像被包括在內，或請瀏覽者注意重要特徵。"/>
      <comment value="此意見應與影像一起顯示，報告中通常會在其他部分（如結論）對影像內容進行補充討論。"/>
      <requirements value="此報告的健康照護提供者應該對報告中每張影像做出意見"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.media.comment"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".inboundRelationship[typeCode=COMP].source[classCode=OBS, moodCode=EVN, code=&quot;annotation&quot;].value"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.media.link">
      <path value="DiagnosticReport.media.link"/>
      <short value="參照的影像來源"/>
      <definition value="參照的影像來源"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.media.link"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Media"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".value.reference"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.conclusion">
      <path value="DiagnosticReport.conclusion"/>
      <short value="檢驗結果的臨床結論（解釋）"/>
      <definition value="此診斷報告的簡要及臨床情境的摘要結論（解釋／臆斷）"/>
      <requirements value="需要能夠提供一個不會在基本結果資料中丟失結論"/>
      <alias value="Report"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="DiagnosticReport.conclusion"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="v2"/>
        <map value="OBX"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="inboundRelationship[typeCode=&quot;SPRT&quot;].source[classCode=OBS, moodCode=EVN, code=LOINC:48767-8].value (type=ST)"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.conclusionCode">
      <path value="DiagnosticReport.conclusionCode"/>
      <short value="檢驗結果的臨床結論的代碼，此為SNOMED CT代碼，若機構已有購買相關授權，亦可使用。"/>
      <definition value="代表診斷報告的摘要結論（解釋／臆斷）的一個或多個代碼"/>
      <comment value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.conclusionCode"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="AdjunctDiagnosis"/>
        </extension>
        <strength value="example"/>
        <description value="可參考[SNOMEDCTClinicalFindings](http://hl7.org/fhir/R4/valueset-clinical-findings.html)值集，但此值集只是針對這個欄位的一個可能值的範例，不預期也不鼓勵使用者一定要使用此值集的代碼。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/clinical-findings"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
      </mapping>
    </element>
    <element id="DiagnosticReport.presentedForm">
      <path value="DiagnosticReport.presentedForm"/>
      <short value="已發佈的整個報告"/>
      <definition value="診斷服務發佈之含豐富文字的整個結果，允許多種格式，但它們在語義上 **必須（SHALL）** 是相同的。"/>
      <comment value="在這種情況下，「application／pdf 」被推薦為最可靠及最可互操作的格式。"/>
      <requirements value="讓實驗室有能力為臨床真實性提供自己的完全格式化報告"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DiagnosticReport.presentedForm"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Attachment"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="v2"/>
        <map value="OBX"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="text (type=ED)"/>
      </mapping>
    </element>
  </snapshot>
  <differential>
    <element id="DiagnosticReport.identifier">
      <path value="DiagnosticReport.identifier"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="type.coding.code"/>
        </discriminator>
        <discriminator>
          <type value="value"/>
          <path value="type.coding.system"/>
        </discriminator>
        <rules value="open"/>
      </slicing>
      <min value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber">
      <path value="DiagnosticReport.identifier"/>
      <sliceName value="medicalrecordNumber"/>
      <short value="適用該就醫紀錄之就診序號"/>
      <definition value="適用於該就醫紀錄之就診序號"/>
      <requirements value="病人幾乎總是被指定一個特定的數值型的唯一識別碼（identifier）"/>
      <min value="0"/>
      <max value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.id">
      <path value="DiagnosticReport.identifier.id"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照）。這可以是任何不含空格的字串。"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.extension">
      <path value="DiagnosticReport.identifier.extension"/>
      <short value="擴充的資料項目"/>
      <definition value="擴充的資料項目"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.use">
      <path value="DiagnosticReport.identifier.use"/>
      <short value="usual ｜ official ｜ temp ｜ secondary ｜ old （如果知道）"/>
      <definition value="這個唯一識別碼（identifier）的用途"/>
      <comment value="應用程式可以假定一個識別碼是永久的，除非它明確說它是暫時的。"/>
      <requirements value="允許從一組識別碼中為特定的使用情境選擇適當的識別碼"/>
      <patternCode value="official"/>
      <mustSupport value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="IdentifierUse"/>
        </extension>
        <strength value="required"/>
        <description value="如果知道，請說明此識別碼的目的；應填入[IdentifierUse](http://hl7.org/fhir/R4/valueset-identifier-use.html)代碼表中的其中一個代碼。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/identifier-use|4.0.1"/>
      </binding>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type">
      <path value="DiagnosticReport.identifier.type"/>
      <short value="身份識別碼（identifier）的型別說明"/>
      <definition value="識別碼的代碼型別，用於決定特定目適用的識別碼。"/>
      <comment value="這個資料項目只涉及識別碼的一般類別。它 **必須沒有（SHALL NOT）** 被用於與Identifier.system 1..1對應的代碼。一些識別碼可能由於常見的用法而屬於多個類別。在系統是已知的情況下，型別是不必要的，因為型別總是系統定義的一部分。然而，系統經常需要處理系統不為人知的識別碼。型別和系統之間不是1:1的關係，因為許多不同的系統有相同的型別。"/>
      <requirements value="允許使用者在不知道識別碼系統的情況下利用識別碼"/>
      <min value="1"/>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <mustSupport value="true"/>
      <binding>
        <strength value="required"/>
        <description value="識別碼的型別，用於決定特定目的所適用的識別碼；應填入[臺灣識別碼類型值集](https://twcore.mohw.gov.tw/ig/twcore/ValueSet-identifier-type-tw.html)代碼表中適合的代碼，確定無適合的代碼才可以使用其他代碼中的代碼來表示。"/>
        <valueSet value="https://twcore.mohw.gov.tw/ig/twcore/ValueSet/identifier-type-tw"/>
      </binding>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.id">
      <path value="DiagnosticReport.identifier.type.id"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照），這可以是任何不含空格的字串。"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.system">
      <path value="DiagnosticReport.identifier.type.coding.system"/>
      <min value="1"/>
      <patternUri value="http://terminology.hl7.org/CodeSystem/v2-0203"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.type.coding.code">
      <path value="DiagnosticReport.identifier.type.coding.code"/>
      <min value="1"/>
      <patternCode value="MRT"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.system">
      <path value="DiagnosticReport.identifier.system"/>
      <short value="就診序號發號者/機構/單位"/>
      <definition value="建立值的命名空間－即一個描述一組值的唯一URL"/>
      <comment value="Identifier.system總是區分大小寫"/>
      <requirements value="有許多識別碼的集合。為了進行兩個識別碼的對應，我們需要知道我們處理的是哪一組。系統指明了一個特定的唯一識別碼集。"/>
      <min value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.value">
      <path value="DiagnosticReport.identifier.value"/>
      <short value="唯一值。&#xD;&#xA;例如：就診序號為0123456789"/>
      <definition value="識別碼中通常與使用者有關的部分，在系統情境內是唯一的。"/>
      <comment value="如果此值是一個完整的URI，那麼此系統 **必須（SHALL）** 是urn:ietf:rfc:3986。此值的主要目的是為了可運算的對應。因此，為了比較的目的，它可能會被正規化（例如：去除不重要的空白、破折號等）。一個為人顯示的格式化的值可以使用[Rendered Value](http://hl7.org/fhir/R4/extension-rendered-value.html)擴充來傳達。除非對Identifier.system的了解使處理者確信不區分大小寫的處理是安全的，否則Identifier.value應被視為區分大小寫。"/>
      <min value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.period">
      <path value="DiagnosticReport.identifier.period"/>
      <short value="此身份識別碼（identifier）的使用效期"/>
      <definition value="識別碼有效／曾經有效使用的時段或期間"/>
    </element>
    <element id="DiagnosticReport.identifier:medicalrecordNumber.assigner">
      <path value="DiagnosticReport.identifier.assigner"/>
      <short value="簽發identifier的機構（可以只是文字表述）"/>
      <definition value="簽發／管理識別碼的機構"/>
      <comment value="Identifier.assigner可以省略.reference資料項目，只包含一個.display資料項目，反映指定機構的名稱或其他文字表述資訊。"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Organization-hosp-twcore"/>
      </type>
    </element>
    <element id="DiagnosticReport.status">
      <path value="DiagnosticReport.status"/>
      <patternCode value="final"/>
    </element>
    <element id="DiagnosticReport.category">
      <path value="DiagnosticReport.category"/>
      <min value="1"/>
    </element>
    <element id="DiagnosticReport.category.coding.system">
      <path value="DiagnosticReport.category.coding.system"/>
      <patternUri value="http://terminology.hl7.org/CodeSystem/v2-0074"/>
    </element>
    <element id="DiagnosticReport.category.coding.code">
      <path value="DiagnosticReport.category.coding.code"/>
      <patternCode value="LAB"/>
    </element>
    <element id="DiagnosticReport.category.coding.display">
      <path value="DiagnosticReport.category.coding.display"/>
      <patternString value="Laboratory"/>
    </element>
    <element id="DiagnosticReport.subject">
      <path value="DiagnosticReport.subject"/>
      <min value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://tstifhir.azurehealthcareapis.com/StructureDefinition/Patient-adultcheck"/>
      </type>
    </element>
    <element id="DiagnosticReport.effective[x]">
      <path value="DiagnosticReport.effective[x]"/>
      <slicing>
        <discriminator>
          <type value="type"/>
          <path value="$this"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
    </element>
    <element id="DiagnosticReport.effective[x]:effectiveDateTime">
      <path value="DiagnosticReport.effective[x]"/>
      <sliceName value="effectiveDateTime"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support">
          <valueBoolean value="true"/>
        </extension>
        <code value="dateTime"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="DiagnosticReport.issued">
      <path value="DiagnosticReport.issued"/>
      <min value="1"/>
    </element>
    <element id="DiagnosticReport.performer">
      <path value="DiagnosticReport.performer"/>
      <short value="委託代檢之醫事機構"/>
      <min value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Organization-hosp-twcore"/>
      </type>
    </element>
    <element id="DiagnosticReport.resultsInterpreter">
      <path value="DiagnosticReport.resultsInterpreter"/>
      <short value="所屬醫事機構"/>
      <min value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Organization-hosp-twcore"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="DiagnosticReport.conclusion">
      <path value="DiagnosticReport.conclusion"/>
      <min value="1"/>
    </element>
  </differential>
</StructureDefinition>